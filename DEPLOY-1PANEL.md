# 1Panel 部署指南

## 环境要求

- Node.js >= 18.0.0
- npm >= 9.0.0

## 部署步骤

### 1. 创建网站

1. 登录1Panel后台
2. 点击「网站」→「创建网站」
3. 填写基本信息：
   - 网站名称：AI作业小助手
   - 域名：根据实际情况填写（如aihomework.example.com）
   - 网站类型：**静态网站**
   - 静态文件路径：`/www/wwwroot/your-domain/dist`（后续会生成）
   - 点击「确定」

### 2. 配置Node.js环境

1. 点击「应用商店」
2. 搜索并安装「Node.js」应用
3. 版本选择：**18.x 或更高版本**
4. 安装完成后，返回网站详情页

### 3. 克隆代码

1. 点击「文件」标签
2. 删除默认生成的index.html文件
3. 点击「Git」标签
4. 配置Git仓库：
   - 仓库地址：`https://github.com/askqing/HomeWork-AIMonitor.git`
   - 分支：main
   - 点击「克隆」

### 4. 安装依赖

1. 点击「终端」标签
2. 执行命令安装依赖：
   ```bash
   npm install
   ```

### 5. 构建项目

1. 在终端中执行构建命令：
   ```bash
   npm run build
   ```
2. 构建完成后，会在根目录生成`dist`文件夹

### 6. 配置静态网站

1. 返回网站详情页
2. 点击「设置」标签
3. 更新静态文件路径为：`/www/wwwroot/your-domain/dist`
4. 点击「保存」

### 7. 配置环境变量

如果需要配置GLM_API_KEY等环境变量：

1. 点击「环境」标签
2. 点击「添加变量」
3. 变量名：GLM_API_KEY
4. 变量值：你的GLM API密钥
5. 点击「确定」

### 8. 重启服务

1. 点击「服务」标签
2. 点击「重启」按钮
3. 等待服务重启完成

### 9. 访问验证

- 在浏览器中访问你的域名，验证网站是否正常运行

## 注意事项

1. **API请求处理**：由于这是静态网站，API请求需要通过外部服务器处理
   - 可以使用Vercel等平台部署server目录下的API
   - 或在1Panel中创建另一个Node.js网站处理API请求

2. **环境变量**：如果API部署在其他平台，需要在相应平台配置环境变量

3. **更新代码**：后续更新代码时，只需在Git标签页点击「拉取」，然后重新执行`npm run build`即可

4. **端口配置**：如果需要使用特定端口，可在网站设置中配置

## 常见问题

### 1. 构建失败

**原因**：Node.js版本过低
**解决**：确保Node.js版本 >= 18.0.0

### 2. 访问404

**原因**：静态文件路径配置错误
**解决**：检查静态文件路径是否指向正确的dist文件夹

### 3. API请求失败

**原因**：API未部署或配置错误
**解决**：确保API已正确部署，并在前端代码中配置正确的API地址

## 技术支持

如有其他问题，可查看项目README或提交issue到GitHub仓库。